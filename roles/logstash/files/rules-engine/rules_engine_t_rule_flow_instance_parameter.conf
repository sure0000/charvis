input{
    kafka {
        bootstrap_servers => "kafka1:9092,kafka2:9092,kafka3:9092"
        topics => ["rules_engine.t_rule_flow_instance_parameter_j"]
        client_id => es1
	consumer_threads => 4
        auto_offset_reset => "latest"
	}
}

output{
         elasticsearch{
            hosts => ["10.1.3.123:9200","10.1.3.124:9200","10.1.3.125:9200"]
                index => "rules_engine.t_rule_flow_instance_parameter"
            user => elastic
            password => elastic
        }
}
filter{
	json {
		source => "message"
	}
	mutate {
		remove_field => ["message","schema","[source]","[op]","[ts_ms]","[before]","@version"]
		rename => ["[after][ParameterType]","ParameterType"]
		rename => ["[after][ParameterValue]","ParameterValue"]
		rename => ["[after][Id]","Id"]
		rename => ["[after][CreatedDatetime]","CreatedDatetime"]
		rename => ["[after][BatchId]","BatchId"]
		rename => ["[after][LastUpdatedDatetime]","LastUpdatedDatetime"]
		rename => ["[after][ParameterName]","ParameterName"]
		rename => ["[after][RuleFlowInstanceId]","RuleFlowInstanceId"]
	}
}
